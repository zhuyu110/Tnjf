{"version":3,"sources":["webpack:///D:/UniAPPWorkSpace/NewUView/GraceUIDemo/GraceUI5/components/gui-touch.vue?7399","webpack:///D:/UniAPPWorkSpace/NewUView/GraceUIDemo/GraceUI5/components/gui-touch.vue?02db","webpack:///D:/UniAPPWorkSpace/NewUView/GraceUIDemo/GraceUI5/components/gui-touch.vue?3a0e","webpack:///D:/UniAPPWorkSpace/NewUView/GraceUIDemo/GraceUI5/components/gui-touch.vue?68b8","uni-app:///GraceUI5/components/gui-touch.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;;;AAGxD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACSvnB;AACA,mBADA;AAEA;AACA,qEADA,EAFA;;AAKA,MALA,kBAKA;AACA;AACA,oBADA;AAEA,mBAFA;AAGA,iBAHA;AAIA,mBAJA;;AAMA,GAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,KATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA,KAtBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,OATA;AAUA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjDA;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,WARA,MAQA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3FA;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApGA;AAqGA;AACA;AACA,KAvGA,EAbA,E","file":"GraceUI5/components/gui-touch.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./gui-touch.vue?vue&type=template&id=525afcc8&scoped=true&\"\nvar renderjs\nimport script from \"./gui-touch.vue?vue&type=script&lang=js&\"\nexport * from \"./gui-touch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"525afcc8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"GraceUI5/components/gui-touch.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./gui-touch.vue?vue&type=template&id=525afcc8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./gui-touch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./gui-touch.vue?vue&type=script&lang=js&\"","<template>\n\t<view \n\t@touchstart=\"touchstart\" \n\t@touchmove=\"touchmove\" \n\t@touchend=\"touchend\">\n\t\t<slot></slot>\n\t</view>\n</template>\n<script>\nexport default{\n\tname  : \"gui-touch\",\n\tprops : {\n\t\tdatas:{type:Array, default:function(){return [];}}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttoucheTimer  : 0,\n\t\t\tfingerRes    : [],\n\t\t\tdistance     : 0,\n\t\t\ttaptimer     : 100\n\t\t}\n\t},\n\tmethods:{\n\t\ttoInt : function(arr){\n\t\t\tvar res = [];\n\t\t\tarr.forEach((item)=>{\n\t\t\t\titem.pageX = parseInt(item.pageX);\n\t\t\t\titem.pageY = parseInt(item.pageY);\n\t\t\t\tres.push(item);\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\ttouchstart : function(e){\n\t\t\tthis.toucheTimer  = new Date().getTime();\n\t\t\tthis.fingerRes    = this.toInt(e.changedTouches);\n\t\t\tif(this.fingerRes.length > 2){return ;}\n\t\t\tvar moves = [], i = 0;\n\t\t\tthis.fingerRes.forEach((finger)=>{\n\t\t\t\tvar xTouch = finger.pageX;\n\t\t\t\tvar yTouch = finger.pageY;\n\t\t\t\tmoves.push([xTouch, yTouch]);\n\t\t\t\ti++;\n\t\t\t});\n\t\t\tthis.$emit('thStart', moves, this.datas);\n\t\t},\n\t\ttouchmove : function(e){\n\t\t\tif(this.toucheTimer < 50){return ;}\n\t\t\tvar timer = new Date().getTime() - this.toucheTimer;\n\t\t\tif(timer < this.taptimer){return ;}\n\t\t\tvar touches = this.toInt(e.changedTouches);\n\t\t\tif(touches.length > 2){return ;}\n\t\t\tif(touches.length == 1){\n\t\t\t\tvar i = 0, moves = [];\n\t\t\t\ttouches.forEach((finger)=>{\n\t\t\t\t\tvar xTouch = finger.pageX - this.fingerRes[i].pageX;\n\t\t\t\t\tvar yTouch = finger.pageY - this.fingerRes[i].pageY;\n\t\t\t\t\tmoves.push([xTouch, yTouch]);\n\t\t\t\t\ti++;\n\t\t\t\t});\n\t\t\t\tthis.$emit('thMove', moves, this.datas);\n\t\t\t}\n\t\t\telse if(touches.length == 2){\n\t\t\t\tif(this.distance == 0){\n\t\t\t\t\tthis.distance = parseInt(this.getDistance(touches[0].pageX,touches[0].pageY, touches[1].pageX, touches[1].pageY));\n\t\t\t\t}else{\n\t\t\t\t\tvar distance1 = parseInt(this.getDistance(touches[0].pageX,touches[0].pageY, touches[1].pageX, touches[1].pageY));\n\t\t\t\t\tvar scale = distance1 / this.distance;\n\t\t\t\t\tscale = Math.floor(scale * 100) / 100;\n\t\t\t\t\tthis.$emit('scale', scale, this.datas);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttouchend : function (e){\n\t\t\tvar timer = new Date().getTime() - this.toucheTimer;\n\t\t\tif(timer < this.taptimer){\n\t\t\t\tthis.$emit('tapme'); \n\t\t\t\treturn ;\n\t\t\t}\n\t\t\tvar touches   = this.toInt(e.changedTouches);\n\t\t\tthis.distance = 0;\n\t\t\tif(touches.length == 1){\n\t\t\t\tvar i = 0, moves = [];\n\t\t\t\ttouches.forEach((finger)=>{\n\t\t\t\t\tvar xTouch = finger.pageX - this.fingerRes[i].pageX;\n\t\t\t\t\tvar yTouch = finger.pageY - this.fingerRes[i].pageY;\n\t\t\t\t\tmoves.push([xTouch, yTouch]);\n\t\t\t\t\ti++;\n\t\t\t\t});\n\t\t\t\tmoves.push(timer);\n\t\t\t\tthis.$emit('thEnd', moves, this.datas);\n\t\t\t\t// 根据时间及距离决定滑动时间\n\t\t\t\tif(timer < 300){\n\t\t\t\t\tvar mx = Math.abs(moves[0][0]);\n\t\t\t\t\tvar my = Math.abs(moves[0][1]);\n\t\t\t\t\tif(mx > my){\n\t\t\t\t\t\tif(mx >= 50){\n\t\t\t\t\t\t\tif(moves[0][0] > 0){\n\t\t\t\t\t\t\t\tthis.$emit('swipe', 'right', this.datas);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$emit('swipe', 'left', this.datas);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(my >= 50){\n\t\t\t\t\t\t\tif(moves[0][1] > 0){\n\t\t\t\t\t\t\t\tthis.$emit('swipe', 'down', this.datas);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$emit('swipe', 'up', this.datas);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetDistance : function (lat1,  lng1,  lat2,  lng2){\n\t\t\tvar radLat1  = lat1*Math.PI / 180.0;\n\t\t\tvar radLat2  = lat2*Math.PI / 180.0;\n\t\t\tvar a        = radLat1 - radLat2;\n\t\t\tvar b        = lng1*Math.PI / 180.0 - lng2*Math.PI / 180.0;\n\t\t\tvar s        = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) + Math.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)));\n\t\t\ts            = s * 6378.137;\n\t\t\treturn Math.round(s * 10000) / 10000;\n\t\t},\n\t\ttapme : function(){\n\t\t\tthis.isTap = true;\n\t\t}\n\t}\n}\n</script>\n<style scoped></style>"],"sourceRoot":""}